<div class="container">
	<!-- Your existing admin content goes here without the backticks -->
	<div class="page-header">
		<h1 class="page-title">
			<i class="fas fa-users-between-lines"></i> Role Management
		</h1>
		<p class="page-subtitle">Add, edit or delete roles - may impact permissions to sections of the website</p>
	</div>


	<%- include('../partials/menu', { activePage, activeSubPage }) %>
</div>

<div class="container container-full-width" id="expandable-container">
	<div class="cards cards-1">
		<div class="card">
			<div class="card-header">
				<h2>
					<div class="card-icon"><i class="fa fa-users-between-lines"></i></div>
					Roles
				</h2>
				<div class="card-actions">
					<a href="/admin/roles/create" class="btn btn-primary" style="width: initial;">
						<i class="fas fa-plus"></i> Create Role
					</a>
					<a href="#" onclick="return expandContainer('expandable-container');" class="btn btn-primary">
						<i class="fas fa-down-left-and-up-right-to-center" id="expandable-container-icon"></i>
					</a>
				</div>
			</div>
			<div class="card-body">
				<table>
					<thead>
						<tr>
							<th>Id</th>
							<th>Name</th>
							<th>Users</th>
							<th>Created</th>
							<th>
								<i class="fa fa-cog"></i>
							</th>
						</tr>
					</thead>
					<tbody>
						<% roles.forEach(role => { %>
						
						<tr>
							<td><%= role.id %></td>
							<td><%= role.name %></td>
							<td><%= (role.users && role.users.length > 0) ? role.users.length : 0 %></td>
							<td><%= (new Date(role.created_at).toLocaleString()) %></td>
							<td>
								<div class="button-group">
									<a href="/admin/roles/view/<%= role.id %>" class="btn btn-primary btn-tiny">View</a>
									<button type="button" class="btn btn-danger btn-tiny" onclick="roleDeletionConfirmation(this);" data-role-id="<%= role.id %>" data-role-name="<%=role.name%>">Delete</button>
								</div>
							</td>
						</tr>
						<% }) %>
					</tbody>
				</table>
			</div>
		</div>
	</div>

</div>